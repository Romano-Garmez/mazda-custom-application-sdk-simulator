<!DOCTYPE html>
<html>

<head>
    <style id="mock-styles"></style>
    <link rel="stylesheet" href="/interface/interface.css">
    <link rel="stylesheet" href="/fonts/fonts.css">
    <link rel="stylesheet" href="/mock.css">
</head>

<body>
    <div id="showcase-container">
        <img src="images/showcase-background.jpg">
        <div id="mock-content"></div>
    </div>
    <script>
        function startEventSource() {
            const eventSource = new EventSource('/events');
            eventSource.onmessage = function (event) {
                if (event.data === 'update') {
                    location.reload();
                }
            };
        }

        function startLongPolling() {
            function poll() {
                const xhr = new XMLHttpRequest();
                xhr.open('GET', '/events', true);
                xhr.onreadystatechange = function () {
                    if (xhr.readyState === 4 && xhr.status === 200) {
                        if (xhr.responseText === 'update') {
                            location.reload();
                        }
                        poll(); // Continue polling
                    }
                };
                xhr.send();
            }
            poll();
        }

        if (window.EventSource) {
            startEventSource();
        } else {
            startLongPolling();
        }
    </script>
</body>

</html>